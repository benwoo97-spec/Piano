<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gluteal Muscle Quiz</title>
<style>
body { font-family: Arial; background:#f0f4f9; display:flex; justify-content:center; align-items:center; min-height:100vh; margin:0; }
.quiz-container { background:white; padding:20px 30px; border-radius:12px; width:90%; max-width:500px; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.15);}
.option { background:#e9eff5; padding:12px; margin:8px 0; border-radius:8px; cursor:pointer; font-size:16px; }
.option:hover { background:#d0e0f0; }
.correct { background:#b4f1b4 !important; }
.wrong { background:#f7b4b4 !important; }
button { margin-top:15px; padding:12px 20px; border:none; background:#4a90e2; color:white; border-radius:6px; cursor:pointer; font-size:16px; }
button:hover {background:#357ab7;}
#feedback { font-weight:bold; margin-top:10px; min-height:24px;}
</style>
</head>
<body>
<div class="quiz-container">
<h2 id="question">Loading...</h2>
<div id="options"></div>
<p id="feedback"></p>
<button onclick="nextQuestion()">Next</button>
<p>Score: <span id="score">0</span></p>
</div>

<script>
// Í∑ºÏú° Î™©Î°ù
const muscles = [
  "Gluteus Maximus", "Gluteus Medius", "Gluteus Minimus",
  "Piriformis", "Superior Gemellus", "Obturator Internus",
  "Inferior Gemellus", "Quadratus Femoris"
];

// ÏòµÏÖò ÌíÄ
const originPool = [
  "Ilium, sacrum, coccyx, sacrotuberous ligament",
  "Anterior and Posterior gluteal lines (Ilium)",
  "Anterior and Inferior gluteal lines (Ilium)",
  "Ischial spine",
  "Ischial tuberosity",
  "Ischiopubic ramus, Obturator membrane",
  "Anterior surface of sacrum"
];

const insertionPool = [
  "Greater trochanter",
  "Gluteal tuberosity, iliotibial tract (IT Band)",
  "Intertrochanteric crest",
  "Greater trochanter (via obturator internus tendon)"
];

const actionPool = [
  "Hip ER, EXT",
  "Hip IR, ABD + Hip stabilization",
  "Hip IR, ABD",
  "Hip ER, ABD",
  "Hip ER",
  "Hip FLEX",
  "Hip ADD"
];

const nervePool = [
  "Inferior gluteal n. (VR L5-S2)",
  "Superior gluteal n. (VR L4-S1)",
  "n. to piriformis mm. (VR S1-S2)",
  "n. to superior gemellus and obturator internus mm. (VR L5-S2)",
  "n. to inferior gemellus and Quadratus Femoris mm. (VR L4-S1)"
];

const perfusionPool = [
  "Superior and Inferior gluteal aa/vv",
  "Superior gluteal aa/vv",
  "Inferior Gluteal aa/vv",
  "Obturator aa/vv",
  "Femoral aa/vv"
];

// Î¨∏Ï†ú Îç∞Ïù¥ÌÑ∞
const quizData = [
  {muscle:"Gluteus Maximus", origin:"Ilium, sacrum, coccyx, sacrotuberous ligament", insertion:"Gluteal tuberosity, iliotibial tract (IT Band)", action:"Hip ER, EXT", nerve:"Inferior gluteal n. (VR L5-S2)", perfusion:"Superior and Inferior gluteal aa/vv"},
  {muscle:"Gluteus Medius", origin:"Anterior and Posterior gluteal lines (Ilium)", insertion:"Greater trochanter", action:"Hip IR, ABD + Hip stabilization", nerve:"Superior gluteal n. (VR L4-S1)", perfusion:"Superior gluteal aa/vv"},
  {muscle:"Gluteus Minimus", origin:"Anterior and Inferior gluteal lines (Ilium)", insertion:"Greater trochanter", action:"Hip IR, ABD + Hip stabilization", nerve:"Superior gluteal n. (VR L4-S1)", perfusion:"Superior gluteal aa/vv"},
  {muscle:"Piriformis", origin:"Anterior surface of sacrum, Sacrotuberous ligament", insertion:"Greater trochanter", action:"Hip ER", nerve:"n. to piriformis mm. (VR S1-S2)", perfusion:"Superior and Inferior gluteal aa/vv"},
  {muscle:"Superior Gemellus", origin:"Ischial spine", insertion:"Greater trochanter (via obturator internus tendon)", action:"Hip ER", nerve:"n. to superior gemellus and obturator internus mm. (VR L5-S2)", perfusion:"Inferior Gluteal aa/vv"},
  {muscle:"Obturator Internus", origin:"Ischiopubic ramus, Obturator membrane", insertion:"Greater trochanter", action:"Hip ER, ABD", nerve:"n. to superior gemellus and obturator internus mm. (VR L5-S2)", perfusion:"Inferior Gluteal aa/vv"},
  {muscle:"Inferior Gemellus", origin:"Ischial tuberosity", insertion:"Greater trochanter", action:"Hip ER", nerve:"n. to inferior gemellus and Quadratus Femoris mm. (VR L4-S1)", perfusion:"Inferior Gluteal aa/vv"},
  {muscle:"Quadratus Femoris", origin:"Ischial tuberosity", insertion:"Intertrochanteric crest", action:"Hip ER", nerve:"n. to inferior gemellus and Quadratus Femoris mm. (VR L4-S1)", perfusion:"Inferior Gluteal aa/vv"}
];

let currentIndex = 0;
let score = 0;

// Î¨∏Ï†ú ÏàúÏÑú ÏÑûÍ∏∞
shuffleArray(quizData);
loadQuestion();

// Î¨∏Ï†ú Î°úÎìú
function loadQuestion(){
  const q = quizData[currentIndex];
  const attributes = ["origin","insertion","action","nerve","perfusion"];
  const chosenAttr = attributes[Math.floor(Math.random()*attributes.length)];

  const reverse = Math.random()<0.5; // 50% chance muscle‚Üíattribute, 50% attribute‚Üímuscle
  let questionText;
  let correctAnswer;
  let optionsPool;

  if(!reverse){
    // muscle ‚Üí attribute
    questionText = `${q.muscle}Ïùò ${capitalize(chosenAttr)}ÏùÄ?`;
    correctAnswer = q[chosenAttr];
  } else {
    // attribute ‚Üí muscle
    questionText = `${capitalize(chosenAttr)}Í∞Ä '${q[chosenAttr]}'Ïù∏ Í∑ºÏú°ÏùÄ?`;
    correctAnswer = q.muscle;
  }

  // ÏòµÏÖò ÏÑ†ÌÉù
  switch(chosenAttr){
    case "origin": optionsPool = originPool; break;
    case "insertion": optionsPool = insertionPool; break;
    case "action": optionsPool = actionPool; break;
    case "nerve": optionsPool = nervePool; break;
    case "perfusion": optionsPool = perfusionPool; break;
  }

  let opts = [correctAnswer];
  if(reverse){
    // Í∑ºÏú° Î¨∏Ï†úÏùº Îïê Í∑ºÏú° ÌíÄÏóêÏÑú ÏÑ†ÌÉù
    while(opts.length < 4){
      const randOpt = muscles[Math.floor(Math.random()*muscles.length)];
      if(!opts.includes(randOpt)) opts.push(randOpt);
    }
  } else {
    // attribute Î¨∏Ï†úÏùº Îïê attribute ÌíÄÏóêÏÑú ÏÑ†ÌÉù
    while(opts.length < 4){
      const randOpt = optionsPool[Math.floor(Math.random()*optionsPool.length)];
      if(!opts.includes(randOpt)) opts.push(randOpt);
    }
  }

  shuffleArray(opts);

  document.getElementById("question").innerText = questionText;
  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";

  opts.forEach(opt=>{
    const div = document.createElement("div");
    div.className="option";
    div.innerText = opt;
    div.onclick = ()=>selectOption(div, correctAnswer);
    optionsDiv.appendChild(div);
  });

  document.getElementById("feedback").innerText = "";
}

// ÏÑ†ÌÉù Ï≤òÎ¶¨
function selectOption(element, correctAnswer){
  const options = document.querySelectorAll(".option");
  options.forEach(opt=>opt.onclick=null);
  if(element.innerText===correctAnswer){
    element.classList.add("correct");
    document.getElementById("feedback").innerText="‚úÖ Correct!";
    score++;
  } else {
    element.classList.add("wrong");
    document.getElementById("feedback").innerText="‚ùå Wrong! Correct: "+correctAnswer;
    [...options].find(opt=>opt.innerText===correctAnswer).classList.add("correct");
  }
  document.getElementById("score").innerText = score;
}

// Îã§Ïùå Î¨∏Ï†ú
function nextQuestion(){
  currentIndex++;
  if(currentIndex>=quizData.length){
    document.getElementById("question").innerText="üéâ Quiz Finished!";
    document.getElementById("options").innerHTML="";
    document.getElementById("feedback").innerText="Your score: "+score+"/"+quizData.length+" ‚úÖ";
  } else loadQuestion();
}

// Ïú†Ìã∏
function shuffleArray(array){return array.sort(()=>Math.random()-0.5);}
function capitalize(str){return str.charAt(0).toUpperCase() + str.slice(1);}
</script>
</body>
</html>
